<div class="flex justify-center">
    <p-toast />
    <p-confirmDialog />

    <div class="flex mt-4">
        <p class="font-bold text-2xl"><span class="font-bold text-2xl pi pi-list mr-1"></span>Products</p>
    </div>
</div>

<div class="flex justify-center mt-4">
    <p-card>
        <p-table #dt2 [value]="products" [paginator]="true" [rows]="5" [rowsPerPageOptions]="[5, 10, 20]"
            styleClass="w-full" sortMode="multiple" [tableStyle]="{'width': '100%'}"
            [globalFilterFields]="['name', 'price', 'quantity']" [scrollable]="true" size="small" scrollHeight="700px">
            <ng-template #caption>
                <div class="flex">
                    <p-iconfield iconPosition="left" class="ml-auto">
                        <p-inputicon>
                            <i class="pi pi-search"></i>
                        </p-inputicon>
                        <input pInputText size="small" #searchInput type="text"
                            (input)="dt2.filterGlobal(searchInput.value, 'contains')" placeholder="Buscar" />
                    </p-iconfield>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="name">
                        <p-columnFilter field="name" display="menu" />
                        Name <p-sortIcon field="name" />
                    </th>
                    <th pSortableColumn="price">
                        Price <p-sortIcon field="price" />
                    </th>
                    <th pSortableColumn="quantity">
                        Quantity <p-sortIcon field="quantity" />
                    </th>
                    <th>
                        Action
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
                <tr>
                    <td>{{ product.name }}</td>
                    <td>{{ product.price }}</td>
                    <td>{{ (product.quantity) }}</td>
                    <td class="text-center">
                        <p-button icon="pi pi-file-edit" severity="info" [routerLink]="'/products/' + product.id"
                            styleClass="h-7 !w-9 !mr-1 !mb-1" size="small" />

                        <p-button severity="danger" styleClass="h-7 !w-9 !mr-1 !mb-1" icon="pi pi-trash" size="small"
                            (onClick)="dialogDelete(product, $event)" />
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </p-card>
</div>